(function () {
    if (window.isGatedContent !== 'true') return;
    document.body.classList.add('gated-content');
    var gatedHTMLContent = `<section id="sd-gated-content"> <div class="gated__bg"><img src="https://assets.storydoc.com/assets/images/gated/bg.jpg" alt="background"></div><div class="form__main-container"> <div class="gated__logo"><img src="https://assets.storydoc.com/assets/images/gated/sd-logo.svg" alt="Company logo"></div><div class="gated__title">Please fill the information below to get an access.</div><form name="gated-content-form" onsubmit="return false;"> <div class="input__container"> <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33301 4.66667C9.33301 3.93133 8.73501 3.33333 7.99967 3.33333C7.26434 3.33333 6.66634 3.93133 6.66634 4.66667C6.66634 5.402 7.26434 6 7.99967 6C8.73501 6 9.33301 5.402 9.33301 4.66667ZM10.6663 4.66667C10.6663 6.13733 9.47034 7.33333 7.99967 7.33333C6.52901 7.33333 5.33301 6.13733 5.33301 4.66667C5.33301 3.196 6.52901 2 7.99967 2C9.47034 2 10.6663 3.196 10.6663 4.66667ZM3.33301 13.3333C3.33301 10.76 5.42701 8.66667 7.99967 8.66667C10.5723 8.66667 12.6663 10.76 12.6663 13.3333C12.6663 13.7013 12.3683 14 11.9997 14C11.631 14 11.333 13.7013 11.333 13.3333C11.333 11.4953 9.83767 10 7.99967 10C6.16167 10 4.66634 11.4953 4.66634 13.3333C4.66634 13.7013 4.36834 14 3.99967 14C3.63101 14 3.33301 13.7013 3.33301 13.3333Z" fill="#2E3B58"/> <mask id="mask0_1229_16620" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="3" y="2" width="10" height="12"> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.33301 4.66667C9.33301 3.93133 8.73501 3.33333 7.99967 3.33333C7.26434 3.33333 6.66634 3.93133 6.66634 4.66667C6.66634 5.402 7.26434 6 7.99967 6C8.73501 6 9.33301 5.402 9.33301 4.66667ZM10.6663 4.66667C10.6663 6.13733 9.47034 7.33333 7.99967 7.33333C6.52901 7.33333 5.33301 6.13733 5.33301 4.66667C5.33301 3.196 6.52901 2 7.99967 2C9.47034 2 10.6663 3.196 10.6663 4.66667ZM3.33301 13.3333C3.33301 10.76 5.42701 8.66667 7.99967 8.66667C10.5723 8.66667 12.6663 10.76 12.6663 13.3333C12.6663 13.7013 12.3683 14 11.9997 14C11.631 14 11.333 13.7013 11.333 13.3333C11.333 11.4953 9.83767 10 7.99967 10C6.16167 10 4.66634 11.4953 4.66634 13.3333C4.66634 13.7013 4.36834 14 3.99967 14C3.63101 14 3.33301 13.7013 3.33301 13.3333Z" fill="white"/> </mask> <g mask="url(#mask0_1229_16620)"> <rect width="16" height="16" fill="#2E3B58"/> </g> </svg> <input name="name" type="text" id="name" placeholder="Your name" data-control="name"> </div><div class="input__error-message">This value can't be empty.</div><div class="input__container"> <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12.6663 12H3.33301C2.96567 12 2.66634 11.7013 2.66634 11.3333V4.83333L7.59967 8.53333C7.71834 8.62267 7.85901 8.66667 7.99967 8.66667C8.14034 8.66667 8.28101 8.62267 8.39967 8.53333L13.333 4.83333V11.3333C13.333 11.7013 13.0337 12 12.6663 12ZM12.2217 4L7.99967 7.16667L3.77767 4H12.2217ZM12.6663 2.66667H3.33301C2.23034 2.66667 1.33301 3.564 1.33301 4.66667V11.3333C1.33301 12.436 2.23034 13.3333 3.33301 13.3333H12.6663C13.769 13.3333 14.6663 12.436 14.6663 11.3333V4.66667C14.6663 3.564 13.769 2.66667 12.6663 2.66667Z" fill="#2E3B58"/> <mask id="mask0_1229_16611" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="2" width="14" height="12"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12.6663 12H3.33301C2.96567 12 2.66634 11.7013 2.66634 11.3333V4.83333L7.59967 8.53333C7.71834 8.62267 7.85901 8.66667 7.99967 8.66667C8.14034 8.66667 8.28101 8.62267 8.39967 8.53333L13.333 4.83333V11.3333C13.333 11.7013 13.0337 12 12.6663 12ZM12.2217 4L7.99967 7.16667L3.77767 4H12.2217ZM12.6663 2.66667H3.33301C2.23034 2.66667 1.33301 3.564 1.33301 4.66667V11.3333C1.33301 12.436 2.23034 13.3333 3.33301 13.3333H12.6663C13.769 13.3333 14.6663 12.436 14.6663 11.3333V4.66667C14.6663 3.564 13.769 2.66667 12.6663 2.66667Z" fill="white"/> </mask> <g mask="url(#mask0_1229_16611)"> <rect width="16" height="16" fill="#2E3B58"/> </g> </svg> <input name="email" type="email" id="mail" placeholder="Email address" data-control="email"> </div><div class="input__error-message">The email address is not valid. Try again.</div><div class="input__container"> <svg width="24" height="24" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M13.333 12C13.333 12.3673 13.0337 12.6667 12.6663 12.6667H11.333V6H12.6663C13.0337 6 13.333 6.29933 13.333 6.66667V12ZM2.66634 12V6.66667C2.66634 6.29933 2.96567 6 3.33301 6H4.66634V12.6667H3.33301C2.96567 12.6667 2.66634 12.3673 2.66634 12ZM6.66634 3.66667C6.66634 3.48267 6.81567 3.33333 6.99967 3.33333H8.99967C9.18367 3.33333 9.33301 3.48267 9.33301 3.66667V4.66667H6.66634V3.66667ZM5.99967 12.6667H9.99967V6H5.99967V12.6667ZM12.6663 4.66667H10.6663V3.66667C10.6663 2.748 9.91834 2 8.99967 2H6.99967C6.08101 2 5.33301 2.748 5.33301 3.66667V4.66667H3.33301C2.23034 4.66667 1.33301 5.564 1.33301 6.66667V12C1.33301 13.1027 2.23034 14 3.33301 14H12.6663C13.769 14 14.6663 13.1027 14.6663 12V6.66667C14.6663 5.564 13.769 4.66667 12.6663 4.66667Z" fill="#2E3B58"/> <mask id="mask0_1229_16615" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="2" width="14" height="12"> <path fill-rule="evenodd" clip-rule="evenodd" d="M13.333 12C13.333 12.3673 13.0337 12.6667 12.6663 12.6667H11.333V6H12.6663C13.0337 6 13.333 6.29933 13.333 6.66667V12ZM2.66634 12V6.66667C2.66634 6.29933 2.96567 6 3.33301 6H4.66634V12.6667H3.33301C2.96567 12.6667 2.66634 12.3673 2.66634 12ZM6.66634 3.66667C6.66634 3.48267 6.81567 3.33333 6.99967 3.33333H8.99967C9.18367 3.33333 9.33301 3.48267 9.33301 3.66667V4.66667H6.66634V3.66667ZM5.99967 12.6667H9.99967V6H5.99967V12.6667ZM12.6663 4.66667H10.6663V3.66667C10.6663 2.748 9.91834 2 8.99967 2H6.99967C6.08101 2 5.33301 2.748 5.33301 3.66667V4.66667H3.33301C2.23034 4.66667 1.33301 5.564 1.33301 6.66667V12C1.33301 13.1027 2.23034 14 3.33301 14H12.6663C13.769 14 14.6663 13.1027 14.6663 12V6.66667C14.6663 5.564 13.769 4.66667 12.6663 4.66667Z" fill="white"/> </mask> <g mask="url(#mask0_1229_16615)"> <rect width="16" height="16" fill="#2E3B58"/> </g> </svg> <input id="position" name="position" type="text" placeholder="Position" data-control="position"> </div><div class="input__error-message">This value can't be empty.</div><div class="btn__container"><button type="submit">Continue</button></div></form> </div><a href="https://www.storydoc.com/privacy-policy" class="gated__privacy" target="_blank"> <svg width="191" height="36" viewBox="0 0 191 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M98.8608 22V13.2727H102.134C102.804 13.2727 103.366 13.3977 103.821 13.6477C104.278 13.8977 104.624 14.2415 104.857 14.679C105.092 15.1136 105.21 15.608 105.21 16.1619C105.21 16.7216 105.092 17.2187 104.857 17.6534C104.621 18.0881 104.273 18.4304 103.812 18.6804C103.352 18.9276 102.786 19.0511 102.112 19.0511H99.9432V17.7514H101.899C102.291 17.7514 102.612 17.6832 102.862 17.5469C103.112 17.4105 103.297 17.223 103.416 16.9844C103.538 16.7457 103.599 16.4716 103.599 16.1619C103.599 15.8523 103.538 15.5795 103.416 15.3438C103.297 15.108 103.111 14.9247 102.858 14.794C102.608 14.6605 102.286 14.5938 101.891 14.5938H100.442V22H98.8608ZM106.515 22V15.4545H108.011V16.5455H108.079C108.199 16.1676 108.403 15.8764 108.693 15.6719C108.985 15.4645 109.319 15.3608 109.694 15.3608C109.779 15.3608 109.875 15.3651 109.98 15.3736C110.088 15.3793 110.177 15.3892 110.248 15.4034V16.8224C110.183 16.7997 110.079 16.7798 109.937 16.7628C109.798 16.7429 109.663 16.733 109.532 16.733C109.251 16.733 108.998 16.794 108.774 16.9162C108.552 17.0355 108.377 17.2017 108.25 17.4148C108.122 17.6278 108.058 17.8736 108.058 18.152V22H106.515ZM111.273 22V15.4545H112.816V22H111.273ZM112.049 14.5256C111.804 14.5256 111.594 14.4446 111.418 14.2827C111.242 14.1179 111.154 13.9205 111.154 13.6903C111.154 13.4574 111.242 13.2599 111.418 13.098C111.594 12.9332 111.804 12.8509 112.049 12.8509C112.296 12.8509 112.506 12.9332 112.679 13.098C112.855 13.2599 112.944 13.4574 112.944 13.6903C112.944 13.9205 112.855 14.1179 112.679 14.2827C112.506 14.4446 112.296 14.5256 112.049 14.5256ZM120.249 15.4545L117.918 22H116.213L113.882 15.4545H115.527L117.031 20.3168H117.099L118.608 15.4545H120.249ZM123.012 22.1321C122.597 22.1321 122.224 22.0582 121.891 21.9105C121.562 21.7599 121.3 21.5384 121.107 21.2457C120.917 20.9531 120.822 20.5923 120.822 20.1634C120.822 19.794 120.89 19.4886 121.026 19.2472C121.163 19.0057 121.349 18.8125 121.585 18.6676C121.82 18.5227 122.086 18.4134 122.381 18.3395C122.68 18.2628 122.988 18.2074 123.306 18.1733C123.69 18.1335 124.001 18.098 124.239 18.0668C124.478 18.0327 124.651 17.9815 124.759 17.9134C124.87 17.8423 124.925 17.733 124.925 17.5852V17.5597C124.925 17.2386 124.83 16.9901 124.64 16.8139C124.45 16.6378 124.175 16.5497 123.817 16.5497C123.44 16.5497 123.14 16.6321 122.918 16.7969C122.7 16.9616 122.552 17.1562 122.475 17.3807L121.035 17.1761C121.148 16.7784 121.336 16.446 121.597 16.179C121.859 15.9091 122.178 15.7074 122.556 15.5739C122.934 15.4375 123.352 15.3693 123.809 15.3693C124.124 15.3693 124.438 15.4062 124.751 15.4801C125.063 15.554 125.349 15.6761 125.607 15.8466C125.866 16.0142 126.073 16.2429 126.229 16.5327C126.388 16.8224 126.468 17.1847 126.468 17.6193V22H124.985V21.1009H124.934C124.84 21.2827 124.708 21.4531 124.538 21.6122C124.37 21.7685 124.158 21.8949 123.903 21.9915C123.65 22.0852 123.353 22.1321 123.012 22.1321ZM123.413 20.9986C123.722 20.9986 123.991 20.9375 124.218 20.8153C124.445 20.6903 124.62 20.5256 124.742 20.321C124.867 20.1165 124.93 19.8935 124.93 19.652V18.8807C124.881 18.9205 124.799 18.9574 124.683 18.9915C124.569 19.0256 124.441 19.0554 124.299 19.081C124.157 19.1065 124.016 19.1293 123.877 19.1491C123.738 19.169 123.617 19.1861 123.515 19.2003C123.285 19.2315 123.079 19.2827 122.897 19.3537C122.715 19.4247 122.572 19.5241 122.467 19.652C122.362 19.777 122.309 19.9389 122.309 20.1378C122.309 20.4219 122.413 20.6364 122.62 20.7812C122.827 20.9261 123.092 20.9986 123.413 20.9986ZM130.874 22.1278C130.221 22.1278 129.66 21.9844 129.191 21.6974C128.725 21.4105 128.366 21.0142 128.113 20.5085C127.863 20 127.738 19.4148 127.738 18.7528C127.738 18.0881 127.866 17.5014 128.121 16.9929C128.377 16.4815 128.738 16.0838 129.204 15.7997C129.673 15.5128 130.227 15.3693 130.866 15.3693C131.397 15.3693 131.867 15.4673 132.276 15.6634C132.688 15.8565 133.016 16.1307 133.261 16.4858C133.505 16.8381 133.644 17.25 133.678 17.7216H132.204C132.144 17.4062 132.002 17.1435 131.778 16.9332C131.556 16.7202 131.259 16.6136 130.887 16.6136C130.572 16.6136 130.295 16.6989 130.056 16.8693C129.817 17.0369 129.631 17.2784 129.498 17.5938C129.367 17.9091 129.302 18.2869 129.302 18.7273C129.302 19.1733 129.367 19.5568 129.498 19.8778C129.629 20.196 129.812 20.4418 130.048 20.6151C130.286 20.7855 130.566 20.8707 130.887 20.8707C131.114 20.8707 131.317 20.8281 131.496 20.7429C131.678 20.6548 131.83 20.5284 131.952 20.3636C132.075 20.1989 132.158 19.9986 132.204 19.7628H133.678C133.641 20.2259 133.505 20.6364 133.269 20.9943C133.033 21.3494 132.712 21.6278 132.306 21.8295C131.9 22.0284 131.423 22.1278 130.874 22.1278ZM135.904 24.4545C135.694 24.4545 135.499 24.4375 135.32 24.4034C135.144 24.3722 135.003 24.3352 134.898 24.2926L135.256 23.0909C135.48 23.1563 135.681 23.1875 135.857 23.1847C136.033 23.1818 136.188 23.1264 136.321 23.0185C136.458 22.9134 136.573 22.7372 136.667 22.4901L136.799 22.1364L134.425 15.4545H136.061L137.57 20.3977H137.638L139.151 15.4545H140.792L138.171 22.7926C138.049 23.1392 137.887 23.4361 137.685 23.6832C137.483 23.9332 137.236 24.1236 136.944 24.2543C136.654 24.3878 136.307 24.4545 135.904 24.4545ZM144.836 24.4545V15.4545H146.353V16.5369H146.442C146.522 16.3778 146.634 16.2088 146.779 16.0298C146.924 15.848 147.12 15.6932 147.367 15.5653C147.614 15.4347 147.929 15.3693 148.313 15.3693C148.819 15.3693 149.275 15.4986 149.681 15.7571C150.09 16.0128 150.414 16.392 150.652 16.8949C150.894 17.3949 151.015 18.0085 151.015 18.7358C151.015 19.4545 150.897 20.0653 150.661 20.5682C150.425 21.071 150.104 21.4545 149.698 21.7188C149.292 21.983 148.831 22.1151 148.317 22.1151C147.942 22.1151 147.631 22.0526 147.384 21.9276C147.137 21.8026 146.938 21.652 146.787 21.4759C146.64 21.2969 146.525 21.1278 146.442 20.9688H146.378V24.4545H144.836ZM146.348 18.7273C146.348 19.1506 146.408 19.5213 146.527 19.8395C146.65 20.1577 146.824 20.4062 147.051 20.5852C147.282 20.7614 147.56 20.8494 147.887 20.8494C148.228 20.8494 148.513 20.7585 148.743 20.5767C148.973 20.392 149.147 20.1406 149.263 19.8224C149.382 19.5014 149.442 19.1364 149.442 18.7273C149.442 18.321 149.384 17.9602 149.267 17.6449C149.151 17.3295 148.978 17.0824 148.748 16.9034C148.517 16.7244 148.23 16.6349 147.887 16.6349C147.557 16.6349 147.277 16.7216 147.047 16.8949C146.817 17.0682 146.642 17.3111 146.523 17.6236C146.407 17.9361 146.348 18.304 146.348 18.7273ZM155.191 22.1278C154.551 22.1278 153.998 21.9872 153.529 21.706C153.06 21.4247 152.696 21.0312 152.438 20.5256C152.182 20.0199 152.054 19.429 152.054 18.7528C152.054 18.0767 152.182 17.4844 152.438 16.9759C152.696 16.4673 153.06 16.0724 153.529 15.7912C153.998 15.5099 154.551 15.3693 155.191 15.3693C155.83 15.3693 156.384 15.5099 156.853 15.7912C157.321 16.0724 157.684 16.4673 157.939 16.9759C158.198 17.4844 158.327 18.0767 158.327 18.7528C158.327 19.429 158.198 20.0199 157.939 20.5256C157.684 21.0312 157.321 21.4247 156.853 21.706C156.384 21.9872 155.83 22.1278 155.191 22.1278ZM155.199 20.892C155.546 20.892 155.836 20.7969 156.069 20.6065C156.301 20.4134 156.475 20.1548 156.588 19.831C156.705 19.5071 156.763 19.1463 156.763 18.7486C156.763 18.348 156.705 17.9858 156.588 17.6619C156.475 17.3352 156.301 17.0753 156.069 16.8821C155.836 16.6889 155.546 16.5923 155.199 16.5923C154.844 16.5923 154.549 16.6889 154.313 16.8821C154.08 17.0753 153.905 17.3352 153.789 17.6619C153.675 17.9858 153.618 18.348 153.618 18.7486C153.618 19.1463 153.675 19.5071 153.789 19.831C153.905 20.1548 154.08 20.4134 154.313 20.6065C154.549 20.7969 154.844 20.892 155.199 20.892ZM161.179 13.2727V22H159.636V13.2727H161.179ZM162.765 22V15.4545H164.308V22H162.765ZM163.541 14.5256C163.297 14.5256 163.086 14.4446 162.91 14.2827C162.734 14.1179 162.646 13.9205 162.646 13.6903C162.646 13.4574 162.734 13.2599 162.91 13.098C163.086 12.9332 163.297 12.8509 163.541 12.8509C163.788 12.8509 163.998 12.9332 164.172 13.098C164.348 13.2599 164.436 13.4574 164.436 13.6903C164.436 13.9205 164.348 14.1179 164.172 14.2827C163.998 14.4446 163.788 14.5256 163.541 14.5256ZM168.749 22.1278C168.096 22.1278 167.535 21.9844 167.066 21.6974C166.6 21.4105 166.241 21.0142 165.988 20.5085C165.738 20 165.613 19.4148 165.613 18.7528C165.613 18.0881 165.741 17.5014 165.996 16.9929C166.252 16.4815 166.613 16.0838 167.079 15.7997C167.548 15.5128 168.102 15.3693 168.741 15.3693C169.272 15.3693 169.742 15.4673 170.151 15.6634C170.563 15.8565 170.891 16.1307 171.136 16.4858C171.38 16.8381 171.519 17.25 171.553 17.7216H170.079C170.019 17.4062 169.877 17.1435 169.653 16.9332C169.431 16.7202 169.134 16.6136 168.762 16.6136C168.447 16.6136 168.17 16.6989 167.931 16.8693C167.692 17.0369 167.506 17.2784 167.373 17.5938C167.242 17.9091 167.177 18.2869 167.177 18.7273C167.177 19.1733 167.242 19.5568 167.373 19.8778C167.504 20.196 167.687 20.4418 167.923 20.6151C168.161 20.7855 168.441 20.8707 168.762 20.8707C168.989 20.8707 169.192 20.8281 169.371 20.7429C169.553 20.6548 169.705 20.5284 169.827 20.3636C169.95 20.1989 170.033 19.9986 170.079 19.7628H171.553C171.516 20.2259 171.38 20.6364 171.144 20.9943C170.908 21.3494 170.587 21.6278 170.181 21.8295C169.775 22.0284 169.298 22.1278 168.749 22.1278ZM173.779 24.4545C173.569 24.4545 173.374 24.4375 173.195 24.4034C173.019 24.3722 172.878 24.3352 172.773 24.2926L173.131 23.0909C173.355 23.1563 173.556 23.1875 173.732 23.1847C173.908 23.1818 174.063 23.1264 174.196 23.0185C174.333 22.9134 174.448 22.7372 174.542 22.4901L174.674 22.1364L172.3 15.4545H173.936L175.445 20.3977H175.513L177.026 15.4545H178.667L176.046 22.7926C175.924 23.1392 175.762 23.4361 175.56 23.6832C175.358 23.9332 175.111 24.1236 174.819 24.2543C174.529 24.3878 174.182 24.4545 173.779 24.4545Z" fill="#56108F"/> <line x1="90.5" y1="13" x2="90.5" y2="23" stroke="#AB70E0"/> <path d="M58.9769 16.0424C58.3265 15.0457 57.0055 14.5575 55.8064 14.5575C53.3066 14.5575 51.1523 16.49 51.1523 19.5412C51.1523 22.5722 53.327 24.5453 55.8267 24.5453C56.9852 24.5453 58.3265 24.0368 58.9769 23.04V24.3012H61.3344V9.63477H58.9769V16.0424ZM56.1926 22.3484C54.7293 22.3484 53.5302 21.1076 53.5302 19.5209C53.5302 17.9342 54.7293 16.7544 56.1926 16.7544C57.5542 16.7544 58.9362 17.8529 58.9362 19.5209C58.9362 21.1889 57.6355 22.3484 56.1926 22.3484Z" fill="#56108F"/> <path d="M67.3254 24.5455C70.0284 24.5455 72.3859 22.552 72.3859 19.5414C72.3859 16.5308 70.0284 14.5576 67.3254 14.5576C64.6224 14.5576 62.2852 16.5308 62.2852 19.5414C62.2852 22.552 64.6224 24.5455 67.3254 24.5455ZM67.3254 22.3485C65.8621 22.3485 64.663 21.2094 64.663 19.5414C64.663 17.914 65.8621 16.7545 67.3254 16.7545C68.7887 16.7545 70.0081 17.914 70.0081 19.5414C70.0081 21.2094 68.7887 22.3485 67.3254 22.3485Z" fill="#56108F"/> <path d="M78.1387 24.5455C79.7849 24.5455 81.1263 23.8132 82.0002 22.7147L80.3337 21.3925C79.8459 21.9824 79.033 22.3485 78.1794 22.3485C76.5332 22.3485 75.3544 21.128 75.3544 19.5414C75.3544 17.9344 76.5332 16.7545 78.1794 16.7545C79.033 16.7545 79.8459 17.1207 80.3337 17.7106L82.0002 16.3884C81.1263 15.2899 79.7849 14.5576 78.1387 14.5576C75.3951 14.5576 72.9766 16.5308 72.9766 19.5414C72.9766 22.552 75.3951 24.5455 78.1387 24.5455Z" fill="#56108F"/> <path d="M23.8732 16.1681L24.7432 16.0166C24.2137 17.9096 23.5895 20.5409 23.5895 21.5821C23.5895 23.5698 24.8189 24.876 26.4454 24.876C28.2421 24.876 30.3982 23.513 30.3982 21.885C30.3982 20.4841 29.2256 20.6924 29.2256 20.6924C29.1311 21.6389 27.8639 23.2101 26.5589 23.2101C26.1995 23.2101 25.9726 22.9261 25.9726 22.3961C25.9726 20.9385 26.748 17.9096 27.3721 15.657C28.5448 15.5244 29.4526 15.3919 30.3793 15.373C30.7008 15.373 30.7387 15.2216 30.7387 15.089C30.7387 14.9755 30.3793 14.2561 30.2469 14.1804C29.9254 14.01 29.6417 14.01 29.5093 13.745C29.358 13.4989 29.2067 13.5936 28.6771 13.6314L27.9395 13.6882L28.6204 11.5112C28.6771 11.3219 27.1641 10.489 26.748 10.7162C26.4832 10.8676 25.7456 12.7606 25.3295 14.0479C24.2137 14.2372 23.2302 14.4644 22.9654 14.6347C22.625 14.8619 23.2491 16.2817 23.8732 16.1681Z" fill="#56108F"/> <path d="M29.28 20.2777C29.2005 22.3861 30.1344 25.0118 32.6979 25.0118C35.8377 25.0118 36.7718 20.4568 36.8911 18.3683C36.9507 16.3793 36.5333 14.5293 33.9698 14.5293C33.473 14.5293 33.0954 14.7481 33.0954 14.7481C33.0556 14.569 32.7973 14.4102 32.4794 14.271C30.9492 14.629 29.3993 17.7914 29.28 20.2777ZM31.4262 20.9342C31.4659 20.2779 31.5851 19.7805 31.5851 19.7805C31.6845 19.86 32.0819 20.0193 32.1017 19.9397C32.3005 18.9253 33.2147 15.8024 34.2481 15.8024C34.9834 15.8024 34.8242 17.0754 34.7845 17.5925C34.7249 18.6467 34.0493 23.3805 32.38 23.3805C31.6646 23.3805 31.3467 22.2868 31.4262 20.9342Z" fill="#56108F"/> <path d="M15.3534 21.9848C14.3157 21.0152 14.5546 19.2876 15.1028 18.9069C14.956 18.4944 14.3973 18.074 13.6985 18.2469C12.715 18.4889 12.1019 19.5761 12.0902 20.1905C12.0983 21.1219 12.2019 22.4462 14.2595 23.9755C16.2415 25.4101 19.4117 25.3215 20.9254 24.2887C22.0479 23.5093 22.714 22.3486 22.7737 20.5617C22.814 18.4393 21.4535 16.8302 19.5748 15.3789C18.1529 14.2902 16.8097 13.1285 17.2443 11.9448C17.7329 10.6317 22.2033 11.257 22.3447 11.9489C22.3927 12.136 21.4247 12.9184 21.4215 13.086C21.4191 13.2163 21.4692 13.2918 21.6494 13.2952C22.2932 13.3075 24.221 12.1709 24.2895 11.2782C24.3209 10.9808 23.2814 10.1042 22.8736 9.87294C21.4718 9.0826 19.131 8.90761 17.1111 9.46511C15.7649 9.81195 14.8213 10.6693 14.695 11.8962C14.5139 13.2896 15.1097 14.4743 17.3439 16.1931C18.8166 17.3201 20.7574 18.2138 20.6991 19.9262C20.6038 22.2339 17.0995 23.6385 15.3534 21.9848Z" fill="#56108F"/> <path d="M43.4494 20.081C43.2507 20.1606 43.0322 20.2003 42.7937 20.2003C41.3629 20.2003 41.1044 19.1859 41.0448 18.3107C40.6076 19.3251 39.6935 21.8512 39.5941 24.5563C39.0377 24.8149 37.0703 24.1586 37.0703 23.7409C37.0703 23.2039 37.2889 21.9707 37.5671 18.1518C37.6864 16.5407 37.7859 14.5715 38.6205 14.5715C39.2365 14.5715 40.1307 15.1084 40.1307 15.1084C40.0711 16.083 39.7929 17.3758 39.7333 18.4299L39.8326 18.4898C40.3096 17.3361 40.7069 15.745 40.9454 14.8897C41.1044 14.3726 41.6808 14.1936 42.4558 14.3726C43.1116 14.5318 43.2705 14.83 43.2705 15.1881C43.2506 15.8245 42.3564 17.0178 42.3167 18.3107C42.3167 18.5494 42.5154 18.848 42.8135 18.848C43.2507 18.848 43.5686 18.4697 43.7673 18.1316C44.0058 17.0575 44.3436 16.0234 44.7013 15.1084C44.8603 14.7902 45.1783 14.671 45.5956 14.671C46.2713 14.671 47.0463 15.0884 47.086 15.5458C46.4302 17.6144 45.7745 19.8026 45.695 21.9508C45.695 22.4281 45.7547 22.8458 46.0726 22.8458C46.6489 22.8458 47.4039 21.1151 47.6026 20.3195C47.7815 19.6234 48.795 14.671 49.3316 14.671C50.2656 14.671 51.0406 14.9891 51.0207 15.4068C50.8816 17.4356 50.1065 19.3848 49.8879 20.6975C49.7488 21.4732 49.5304 22.2291 49.3515 23.3629C49.431 23.3032 51.6566 21.9904 51.6566 21.9904L52.7496 22.7464C52.4913 23.4425 49.411 25.5507 48.8943 25.8888C48.2584 28.2558 46.6092 31.4185 43.8867 32.7113C42.6546 33.2882 41.1641 33.0496 40.568 32.4728C39.5545 31.5181 39.3954 29.9269 41.7801 28.0969C42.3365 27.6793 44.3237 26.4659 46.0128 25.6107C46.3109 25.4714 46.5892 25.3121 46.7879 25.1728C46.9469 24.4568 47.0661 23.7407 47.1456 23.1838C46.8276 23.7606 46.2514 24.3772 45.4367 24.3772C43.7078 24.3772 43.3501 22.7663 43.3501 21.6326C43.3501 21.1154 43.3898 20.5981 43.4494 20.081ZM46.5096 27.0228C45.8737 27.2814 44.6418 28.0173 43.6879 28.8129C42.7341 29.6085 42.0583 30.4439 42.5352 30.9014C43.2705 31.6175 46.2116 28.8726 46.5096 27.0228Z" fill="#56108F"/> </svg> </a> </section>`
    var getedCSSStyle = `section#sd-gated-content{display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; width: 100%; position: relative; z-index: 9999999;}section#sd-gated-content{display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; width: 100%;}@media screen and (max-width: 600px){section#sd-gated-content{position: relative; align-items: flex-start; height: 100%; min-height: 100vh; overflow-y: auto;}}section#sd-gated-content .gated__bg{position: fixed; top: 0; left: 0; width: 100%; height: 100vh; z-index: -1;}section#sd-gated-content .gated__bg img{position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; object-position: center;}section#sd-gated-content .gated__logo{margin-bottom: 24px;}section#sd-gated-content .gated__logo img{max-height: 64px; height: auto; width: auto;}section#sd-gated-content .gated__title{font-family: var(--title-font); font-style: normal; font-weight: 700; font-size: 18px; line-height: 24px; text-align: center; color: #10233F; margin-bottom: 40px;}section#sd-gated-content .gated__privacy{display: block; background: #FFFFFF; border: 1px solid rgba(196, 175, 213, 0.4); border-radius: 100px; position: absolute; bottom: 16px; left: 16px; display: flex; align-items: center; justify-content: center; width: 191px; height: 36px; z-index: 3; padding: 8px 12px;}section#sd-gated-content .gated__privacy img{width: 100%; height: auto;}@media screen and (max-width: 600px){section#sd-gated-content .gated__privacy{left: 50%; transform: translateX(-50%);}}section#sd-gated-content .form__main-container{position: relative; z-index: 2; max-width: 512px; width: 100%; background: #FFFFFF; box-shadow: 0px 10px 18px rgba(18, 3, 62, 0.1), 0px 0px 1px rgba(18, 3, 62, 0.1); border-radius: 8px; padding: 56px 79px; display: flex; flex-direction: column; align-items: center; margin: 8px;}@media screen and (max-width: 768px){section#sd-gated-content .form__main-container{padding: 32px 16px; margin-bottom: 66px !important;}}section#sd-gated-content form{width: 100%;}section#sd-gated-content form .input__container{position: relative; padding: 0 12px 0 48px; background: #FFFFFF; border: 1px solid #E4E9F2; border-radius: 4px; margin-bottom: 16px;}section#sd-gated-content form .input__container:not(.error){margin-bottom: -5px;}section#sd-gated-content form .input__container:not(.selected){display: none;}section#sd-gated-content form .input__container:not(.selected) + .input__error-message{display: none;}section#sd-gated-content form .input__container svg{position: absolute; top: 50%; left: 12px; transform: translateY(-50%);}section#sd-gated-content form .input__container.error{border-color: #ff0000;}section#sd-gated-content form .input__container.error input,section#sd-gated-content form .input__container.error input::placeholder{color: #ff0000;}section#sd-gated-content form .input__container.error + .input__error-message{opacity: 1; visibility: visible;}section#sd-gated-content form .input__container.error svg path,section#sd-gated-content form .input__container.error svg rect{fill: #ff0000;}section#sd-gated-content form .input__container.error label{color: #ff0000;}section#sd-gated-content form .input__error-message{color: #ff0000; font-size: 11px; margin-bottom: 0; position: relative; top: -16px; text-align: right; align-items: center; opacity: 0; visibility: hidden; display: flex;}section#sd-gated-content form .input__error-message::before{content: url("https://assets.storydoc.com/assets/images/signup/alert.png"); transform: scale(0.7); margin-top: 2px;}section#sd-gated-content form input{border: unset; width: 100%; height: 40px; font-family: var(--paragraph-font); font-style: normal; font-weight: 400; font-size: 15px; line-height: 16px; color: #1E0036;}section#sd-gated-content form input::placeholder{font-family: var(--paragraph-font); font-style: normal; font-weight: 400; font-size: 15px; line-height: 18px; color: #8F9BB3;}section#sd-gated-content form input:focus, section#sd-gated-content form input:active{outline: none;}section#sd-gated-content form input::placeholder{color: #8F9BB3; font-size: 13px; line-height: 16px;}section#sd-gated-content form .btn__container{position: relative; margin-top: 23px;}section#sd-gated-content form .btn__container button{outline: none; border: none; background-color: transparent; width: 100%; height: 100%; font-family: var(--paragraph-font); font-style: normal; text-align: center; background: var(--theme-color-1); border-radius: 4px; width: 100%; height: 48px; position: relative; cursor: pointer; font-weight: 700; font-size: 15px; line-height: 18px; color: #fff;}section#sd-gated-content form .btn__container button:disabled{cursor: auto; color: rgba(255, 255, 255, 0.5);}@media screen and (max-width: 768px){section#sd-gated-content form .btn__container button{height: 40px; font-size: 14px; line-height: 20px;}}section#sd-gated-content form .message__info{color: #ff0000; font-size: 13px; margin-bottom: 0; display: none; position: absolute;}`;

    document.head.insertAdjacentHTML("beforeend", '<style type="text/css">' + getedCSSStyle + '</style>');
    document.body.insertAdjacentHTML("afterbegin", gatedHTMLContent);

    const gatedContentData = JSON.parse(window.gatedContentData.replace(/&quot;/g,'"'));
    var title = document.querySelector('section#sd-gated-content .gated__title');
    var logo = document.querySelector('section#sd-gated-content .gated__logo img');
    generateInputs();

    var gerArray = function(selector) { return  Array.from(document.querySelectorAll(selector)); }
    var form = document.forms['gated-content-form']; 
    var inputs = gerArray('section#sd-gated-content .selected input');
    var inputsRequired = gerArray('section#sd-gated-content .selected input[data-required="required"]');
    var emailInput = gerArray('section#sd-gated-content .selected input[data-control="email"][data-required="required"]');
    var emailRegEx = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    var inputsPiwikMapping = { 'name': 11, 'email': 12, 'position': 13 };


    insertDataIfExistsAndSubmit();
    submitForm();
    inputsErrorHandler();

    function validateEmail(input) {
        if (!input) return true;
        return emailRegEx.test(input.value);
    }
    
    function checkIfInputHasValue(input) {
        if(input.value) input.classList.add('has-value')
        else input.classList.remove('has-value');
    }

    function inputsErrorHandler(isSubmit = false) {
        inputsRequired.concat(emailInput).forEach(function(input) {
            if(isSubmit) checkSingleInputValue(input);
            checkIfInputHasValue(input);
            input.addEventListener('input', function() {
                checkSingleInputValue(input);
                checkIfInputHasValue(input)
            })
        })
    }

    function checkSingleInputValue(input) {
        var emailInputValue = emailInput.length && emailInput[0].isSameNode(input);
        if(emailInputValue) {
            if(input.value && validateEmail(input)) input.parentElement.classList.remove('error')
            else input.parentElement.classList.add('error');
            return
        }
        if(input.value) input.parentElement.classList.remove('error')
        else input.parentElement.classList.add('error');
    }


    function submitForm() {
        form.addEventListener('submit', e => {
            e.preventDefault();
            insertPiwikData();
        })
    }


    function insertPiwikData() {
        var canSubmit = validateEmail(emailInput[0]) && inputsRequired.every(function(input){ return input.value });
        if (!canSubmit) return inputsErrorHandler(true);
        var dataToSave = {};
        document.body.classList.remove('gated-content');
        if (typeof _paq === "undefined" && (window.sendAnalyticsEvents || !window.disableAnalytics)) return setTimeout(insertPiwikData, 1500);
        inputs.forEach(function (input) {
            var name = input.getAttribute('name');
            if (inputsPiwikMapping[name] && input.value) {
                _paq.push(['setCustomDimensionValue', inputsPiwikMapping[name], input.value]);
                dataToSave[name] = input.value;
            }
        })                
        window.sessionStorage.setItem('sd-gated-content-data', JSON.stringify(dataToSave));
    }

    function generateInputs() {
        var keys = ['name', 'email', 'position'];
        var counter = 0;
        var data = gatedContentData[0];
        setLogoAndTitle(data);
        keys.forEach(function (key) {
            if (!Boolean(data[key])) return counter++;
            var value = JSON.parse(data[key]);
            if(!value) return
            var input = document.querySelector('section#sd-gated-content input[data-control=' + key + ']');
            if (!input) return
            var inputContainer = input.closest('.input__container');
            if (inputContainer) inputContainer.classList.add('selected'); 
            if (JSON.parse(data[key + 'Required'])) input.setAttribute('data-required', 'required');
        })

        if (counter >= 3) {
            var input = document.querySelector('section#sd-gated-content input[data-control="email"]');
            if (input) input.classList.add('selected');
        }
    }

    function setLogoAndTitle(data) {
        if (logo) {
            if (data.logo !== 'true') logo.style.display = 'none';
            if (data.logoSRC) logo.setAttribute('src', data.logoSRC);  
        }
        if (data.title && title) title.textContent = data.title;
    }


    function insertDataIfExistsAndSubmit() {
        var data = window.sessionStorage.getItem('sd-gated-content-data');
        if (!data || !Boolean(data)) return;
        data = JSON.parse(data);
        Object.keys(data).forEach(function (key) {
            var input = document.querySelector('section#sd-gated-content .selected input[data-control=' + key + ']');
            if (input) input.value = data[key];
        })
        insertPiwikData();
    }
    
})();